<div class="task-container">
  <div class="task-header">
    <span>{{ title() }}</span>
    <img src="assets/img/plus_button.png" alt="Add task to {{ title() }}" />
  </div>
  <div class="task-list">
    @if (filteredTasks().length > 0) {
      @for (task of filteredTasks(); track task.id) {
        <div class="task">
          <span
            class="category"
            [style]="
              task.category === 'User Story'
                ? 'background-color: #0038FF;'
                : 'background-color: #1FD7C1;'
            "
            >{{ task.category }}</span
          >
          <span class="title">{{ task.title }}</span>
          <span class="description">{{ task.description }}</span>
          @if (task.subtask.length > 0) {
            <div class="subtask">
              <output class="progress-bar"></output>
              <output class="subtasks-amount">
                0/{{ task.subtask.length }} Subtasks
              </output>
            </div>
          }
          <div class="assigned-to-status-container">
            <output class="assigned-to">
              @for (assigned of task.assignedTo; track assigned.initials) {
                <span
                  class="assigned-initials"
                  [style]="'background-color: ' + assigned.color"
                  >{{ assigned.initials }}</span
                >
              }
            </output>
            <img
              [src]="'assets/img/prio-' + task.priority.toLowerCase() + '.png'"
              alt=""
            />
          </div>
        </div>
      }
    } @else {
      <div class="no-task">No tasks {{ title() }}</div>
    }
  </div>
</div>
